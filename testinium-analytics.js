!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){var n;!function(o,i){"use strict";var s="model",a="name",u="type",c="vendor",l="version",d="mobile",p="tablet",h={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,t){for(var r,n,o,i,s,a,u=0;u<t.length&&!s;){var c=t[u],l=t[u+1];for(r=n=0;r<c.length&&!s;)if(s=c[r++].exec(e))for(o=0;o<l.length;o++)a=s[++n],"object"==typeof(i=l[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,a):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=a?a.replace(i[1],i[2]):void 0:this[i[0]]=a?i[1].call(this,a,i[2]):void 0:4==i.length&&(this[i[0]]=a?i[3].call(this,a.replace(i[1],i[2])):void 0):this[i]=a||void 0;u+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(h.has(t[r][n],e))return"?"===r?void 0:r}else if(h.has(t[r],e))return"?"===r?void 0:r;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[a,l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,f.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,c,[u,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[c,"Apple"],[u,p]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,s,[u,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[c,"Amazon"],[u,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,f.str,m.device.amazon.model],[c,"Amazon"],[u,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,c,[u,d]],[/\((ip[honed|\s\w*]+);/i],[s,[c,"Apple"],[u,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,s,[u,d]],[/\(bb10;\s(\w+)/i],[s,[c,"BlackBerry"],[u,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[c,"Asus"],[u,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[s,"Xperia Tablet"],[u,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[c,"Sony"],[u,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,s,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,f.str,m.device.sprint.vendor],[s,f.str,m.device.sprint.model],[u,d]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,s,[u,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[s,/_/g," "],[u,d]],[/(nexus\s9)/i],[s,[c,"HTC"],[u,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[c,"Huawei"],[u,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,s,[u,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[c,"Microsoft"],[u,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[c,"Motorola"],[u,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[c,"Motorola"],[u,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,h.trim],[s,h.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[c,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[c,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],s,[u,p]],[/smart-tv.+(samsung)/i],[c,[u,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],s,[u,d]],[/sie-(\w*)/i],[s,[c,"Siemens"],[u,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],s,[u,d]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[c,"Acer"],[u,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[c,"LG"],[u,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],s,[u,p]],[/(lg) netcast\.tv/i],[c,s,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[c,"LG"],[u,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[c,"Lenovo"],[u,p]],[/linux;.+((jolla));/i],[c,s,[u,d]],[/((pebble))app\/[\d\.]+\s/i],[c,s,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,s,[u,d]],[/crkey/i],[[s,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[c,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[c,"Google"],[u,p]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[c,"Google"],[u,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[c,"Meizu"],[u,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[c,"OnePlus"],[u,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[c,"RCA"],[u,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[c,"Dell"],[u,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[c,"Verizon"],[u,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],s,[u,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[c,"NuVision"],[u,p]],[/android.+;\s(k88)\sbuild/i],[s,[c,"ZTE"],[u,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[c,"Swiss"],[u,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[c,"Swiss"],[u,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[c,"Zeki"],[u,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],s,[u,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[c,"Insignia"],[u,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[c,"NextBook"],[u,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],s,[u,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],s,[u,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[c,"Envizen"],[u,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,s,[u,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[c,"MachSpeed"],[u,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,s,[u,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[c,"Rotor"],[u,p]],[/android.+(KS(.+))\s+build/i],[s,[c,"Amazon"],[u,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,s,[u,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,h.lowerize],c,s],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,f.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,f.str,m.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,l],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[a,l]]},b=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof b))return new b(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?h.extend(v,t):v;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};b.VERSION="0.7.18",b.BROWSER={NAME:a,MAJOR:"major",VERSION:l},b.CPU={ARCHITECTURE:"architecture"},b.DEVICE={MODEL:s,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:d,SMARTTV:"smarttv",TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},b.ENGINE={NAME:a,VERSION:l},b.OS={NAME:a,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=b),t.UAParser=b):r(2)?void 0===(n=function(){return b}.call(t,r,t,e))||(e.exports=n):o&&(o.UAParser=b);var y=o&&(o.jQuery||o.Zepto);if(void 0!==y){var g=new b;y.ua=g.getResult(),y.ua.get=function(){return g.getUA()},y.ua.set=function(e){g.setUA(e);var t=g.getResult();for(var r in t)y.ua[r]=t[r]}}}("object"==typeof window?window:this)},,function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";r.r(t);var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i,s="undefined"!=typeof window&&window,a="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,u="undefined"!=typeof global&&global,c=s||u||a,l={e:{}};function d(){try{return i.apply(this,arguments)}catch(e){return l.e=e,l}}function p(e){return i=e,d}function h(e){return"function"==typeof e}var f=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,f=e},get useDeprecatedSynchronousErrorHandling(){return f}};function v(e){setTimeout(function(){throw e})}var b={closed:!0,next:function(e){},error:function(e){if(m.useDeprecatedSynchronousErrorHandling)throw e;v(e)},complete:function(){}},y=Array.isArray||function(e){return e&&"number"==typeof e.length};function g(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}g.prototype=Object.create(Error.prototype);var w=g,S=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s,a=-1,u=n?n.length:0;r;)r.remove(this),r=++a<u&&n[a]||null;if(h(o)&&p(o).call(this)===l&&(t=!0,e=e||(l.e instanceof w?x(l.e.errors):[l.e])),y(i))for(a=-1,u=i.length;++a<u;){var c=i[a];if(null!=(s=c)&&"object"==typeof s&&p(c.unsubscribe).call(c)===l){t=!0,e=e||[];var d=l.e;d instanceof w?e=e.concat(x(d.errors)):e.push(d)}}if(t)throw new w(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function x(e){return e.reduce(function(e,t){return e.concat(t instanceof w?t.errors:t)},[])}var k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(e){function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=b;break;case 1:if(!r){i.destination=b;break}if("object"==typeof r){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new E(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new E(i,r,n,o)}return i}return o(t,e),t.prototype[k]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(S),E=function(e){function t(t,r,n,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return h(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==b&&(h((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=n,s._complete=o,s}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=m.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):v(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;v(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw e;v(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return m.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(v(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(T),C="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(){}var _=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=function(e,t,r){if(e){if(e instanceof T)return e;if(e[k])return e[k]()}return e||t||r?new T(e,t,r):new T(b)}(e,t,r);if(n?n.call(o,this.source):o.add(this.source||m.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),m.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){m.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,r=t.closed,n=t.destination,o=t.isStopped;if(r||o)return!1;e=n&&n instanceof T?n:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=M(t))(function(t,n){var o;o=r.subscribe(function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}},n,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[C]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:function(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:I}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=M(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function M(e){if(e||(e=m.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var O=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new N(e,this.project,this.thisArg))},e}(),N=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(T);function R(e,t){return void 0===t&&(t=null),new q({method:"GET",url:e,headers:t})}function D(e,t,r){return new q({method:"POST",url:e,body:t,headers:r})}function L(e,t){return new q({method:"DELETE",url:e,headers:t})}function A(e,t,r){return new q({method:"PUT",url:e,body:t,headers:r})}function F(e,t,r){return new q({method:"PATCH",url:e,body:t,headers:r})}var P=function(e,t){return function(t){return t.lift(new O(e,void 0))}}(function(e,t){return e.response});function j(e,t){return P(new q({method:"GET",url:e,responseType:"json",headers:t}))}var q=function(e){function t(t){var r=e.call(this)||this,n={async:!0,createXHR:function(){return this.crossDomain?function(){if(c.XMLHttpRequest)return new c.XMLHttpRequest;if(c.XDomainRequest)return new c.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(c.XMLHttpRequest)return new c.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new c.ActiveXObject(e))break}catch(e){}return new c.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)n.url=t;else for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return r.request=n,r}var r;return o(t,e),t.prototype._subscribe=function(e){return new z(e,this.request)},t.create=((r=function(e){return new t(e)}).get=R,r.post=D,r.delete=L,r.put=A,r.patch=F,r.getJSON=j,r),t}(_),z=function(e){function t(t,r){var n=e.call(this,t)||this;n.request=r,n.done=!1;var o=r.headers=r.headers||{};return r.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in o||c.FormData&&r.body instanceof c.FormData||void 0===r.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=n.serializeBody(r.body,r.headers["Content-Type"]),n.send(),n}return o(t,e),t.prototype.next=function(e){this.done=!0;var t=this.xhr,r=this.request,n=this.destination,o=new H(e,t,r);o.response===l?n.error(l.e):n.next(o)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,o=t.url,i=t.async,s=t.password,a=t.headers,u=t.body,c=p(e.createXHR).call(e);if(c===l)this.error(l.e);else{if(this.xhr=c,this.setupEvents(c,e),(r?p(c.open).call(c,n,o,i,r,s):p(c.open).call(c,n,o,i))===l)return this.error(l.e),null;if(i&&(c.timeout=e.timeout,c.responseType=e.responseType),"withCredentials"in c&&(c.withCredentials=!!e.withCredentials),this.setHeaders(c,a),(u?p(c.send).call(c,u):p(c.send).call(c))===l)return this.error(l.e),null}return c},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(c.FormData&&e instanceof c.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r,n,o=t.progressSubscriber;function i(e){var t=i,r=t.subscriber,n=t.progressSubscriber,o=t.request;n&&n.error(e);var s=new G(this,o);s.response===l?r.error(l.e):r.error(s)}(e.ontimeout=i,i.request=t,i.subscriber=this,i.progressSubscriber=o,e.upload&&"withCredentials"in e)&&(o&&(r=function(e){r.progressSubscriber.next(e)},c.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=o),n=function(e){var t=n,r=t.progressSubscriber,o=t.subscriber,i=t.request;r&&r.error(e);var s=new B("ajax error",this,i);s.response===l?o.error(l.e):o.error(s)},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=o);function s(e){}function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=s?200:0),i<400)n&&n.complete(),r.next(e),r.complete();else{n&&n.error(e);var u=new B("ajax error "+i,this,o);u.response===l?r.error(l.e):r.error(u)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=o,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=o,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(T),H=function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=U(this.responseType,t)};function V(e,t,r){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=U(this.responseType,t),this}V.prototype=Object.create(Error.prototype);var B=V;function X(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}function U(e,t){switch(e){case"json":return p(X)(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}var W,G=function(e,t){return B.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},J=q.create,K=function(){return"undefined"!=typeof crypto&&crypto.getRandomValues?(1e7.toString(10)+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){var t=new Uint8Array(1);return(e^crypto.getRandomValues(t)[0]&15>>e/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},Y=function(){return(Y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function $(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function Q(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z(arguments[t]));return e}function ee(e){var t,r=null===(t=e)||void 0===t?void 0:t.host;return Boolean(r&&r.shadowRoot&&r.shadowRoot===e)}function te(e){var t=e.maskInputOptions,r=e.tagName,n=e.type,o=e.value,i=e.maskInputFn,s=o||"";return(t[r.toLowerCase()]||t[n])&&(s=i?i(s):"*".repeat(s.length)),s}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(W||(W={}));var re=1,ne=RegExp("[^a-z0-9-_:]"),oe=-2;function ie(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(se).join(""):null}catch(e){return null}}function se(e){return function(e){return"styleSheet"in e}(e)?ie(e.styleSheet)||"":e.cssText}var ae=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ue=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,ce=/^(data:)([^,]*),(.*)/i;function le(e,t){return(e||"").replace(ae,function(e,r,n,o,i,s){var a,u=n||i||s,c=r||o||"";if(!u)return e;if(!ue.test(u))return"url("+c+u+c+")";if(ce.test(u))return"url("+c+u+c+")";if("/"===u[0])return"url("+c+(((a=t).indexOf("//")>-1?a.split("/").slice(0,3).join("/"):a.split("/")[0]).split("?")[0]+u)+c+")";var l=t.split("/"),d=u.split("/");l.pop();for(var p=0,h=d;p<h.length;p++){var f=h[p];"."!==f&&(".."===f?l.pop():l.push(f))}return"url("+c+l.join("/")+c+")"})}var de=/^[^ \t\n\r\u000c]+/,pe=/^[, \t\n\r\u000c]+/;function he(e,t){if(!t||""===t.trim())return t;var r=e.createElement("a");return r.href=t,r.href}function fe(){var e=document.createElement("a");return e.href="",e.href}function me(e,t,r,n){return"src"===r||("href"===r||"xlink:href"===r)&&n?he(e,n):"background"!==r||!n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r&&n?function(e,t){if(""===t.trim())return t;var r=0;function n(e){var n,o=e.exec(t.substring(r));return o?(n=o[0],r+=n.length,n):""}for(var o=[];n(pe),!(r>=t.length);){var i=n(de);if(","===i.slice(-1))i=he(e,i.substring(0,i.length-1)),o.push(i);else{var s="";i=he(e,i);for(var a=!1;;){var u=t.charAt(r);if(""===u){o.push((i+s).trim());break}if(a)")"===u&&(a=!1);else{if(","===u){r+=1,o.push((i+s).trim());break}"("===u&&(a=!0)}s+=u,r+=1}}}return o.join(", ")}(e,n):"style"===r&&n?le(n,fe()):n:he(e,n)}function ve(e,t,r){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){if("string"==typeof t){if(e.classList.contains(t))return!0}else e.classList.forEach(function(e){if(t.test(e))return!0});return!(!r||!e.matches(r))||ve(e.parentNode,t,r)}return e.nodeType,e.TEXT_NODE,ve(e.parentNode,t,r)}function be(e){return void 0===e?"":e.toLowerCase()}function ye(e,t){var r,n=t.doc,o=t.map,i=t.blockClass,s=t.blockSelector,a=t.maskTextClass,u=t.maskTextSelector,c=t.skipChild,l=void 0!==c&&c,d=t.inlineStylesheet,p=void 0===d||d,h=t.maskInputOptions,f=void 0===h?{}:h,m=t.maskTextFn,v=t.maskInputFn,b=t.slimDOMOptions,y=t.recordCanvas,g=void 0!==y&&y,w=t.onSerialize,S=t.onIframeLoad,x=t.iframeLoadTimeout,k=void 0===x?5e3:x,T=t.keepIframeSrcFn,E=void 0===T?function(){return!1}:T,C=t.preserveWhiteSpace,I=void 0===C||C,_=function(e,t){var r,n,o=t.doc,i=t.blockClass,s=t.blockSelector,a=t.maskTextClass,u=t.maskTextSelector,c=t.inlineStylesheet,l=t.maskInputOptions,d=void 0===l?{}:l,p=t.maskTextFn,h=t.maskInputFn,f=t.recordCanvas,m=t.keepIframeSrcFn;if(o.__sn){var v=o.__sn.id;r=1===v?void 0:v}switch(e.nodeType){case e.DOCUMENT_NODE:return{type:W.Document,childNodes:[],rootId:r};case e.DOCUMENT_TYPE_NODE:return{type:W.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:r};case e.ELEMENT_NODE:for(var b=function(e,t,r){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var n=0;n<e.classList.length;n++){var o=e.classList[n];if(t.test(o))return!0}return!!r&&e.matches(r)}(e,i,s),y=function(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return ne.test(t)?"div":t}(e),g={},w=0,S=Array.from(e.attributes);w<S.length;w++){var x=S[w],k=x.name,T=x.value;g[k]=me(o,y,k,T)}if("link"===y&&c){var E,C=Array.from(o.styleSheets).find(function(t){return t.href===e.href});(E=ie(C))&&(delete g.rel,delete g.href,g._cssText=le(E,C.href))}if("style"===y&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(E=ie(e.sheet))&&(g._cssText=le(E,fe())),"input"!==y&&"textarea"!==y&&"select"!==y||(T=e.value,"radio"!==g.type&&"checkbox"!==g.type&&"submit"!==g.type&&"button"!==g.type&&T?g.value=te({type:g.type,tagName:y,value:T,maskInputOptions:d,maskInputFn:h}):e.checked&&(g.checked=e.checked)),"option"===y&&(e.selected?g.selected=!0:delete g.selected),"canvas"===y&&f&&(g.rr_dataURL=e.toDataURL()),"audio"!==y&&"video"!==y||(g.rr_mediaState=e.paused?"paused":"played",g.rr_mediaCurrentTime=e.currentTime),e.scrollLeft&&(g.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(g.rr_scrollTop=e.scrollTop),b){var I=e.getBoundingClientRect(),_=I.width,M=I.height;g={class:g.class,rr_width:_+"px",rr_height:M+"px"}}return"iframe"!==y||m(g.src)||delete g.src,{type:W.Element,tagName:y,attributes:g,childNodes:[],isSVG:(n=e,"svg"===n.tagName||n instanceof SVGElement||void 0),needBlock:b,rootId:r};case e.TEXT_NODE:var O=e.parentNode&&e.parentNode.tagName,N=e.textContent,R="STYLE"===O||void 0,D="SCRIPT"===O||void 0;return R&&N&&(N=le(N,fe())),D&&(N="SCRIPT_PLACEHOLDER"),!R&&!D&&ve(e,a,u)&&N&&(N=p?p(N):N.replace(/[\S]/g,"*")),{type:W.Text,textContent:N||"",isStyle:R,rootId:r};case e.CDATA_SECTION_NODE:return{type:W.CDATA,textContent:"",rootId:r};case e.COMMENT_NODE:return{type:W.Comment,textContent:e.textContent||"",rootId:r};default:return!1}}(e,{doc:n,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:u,inlineStylesheet:p,maskInputOptions:f,maskTextFn:m,maskInputFn:v,recordCanvas:g,keepIframeSrcFn:E});if(!_)return console.warn(e,"not serialized"),null;r="__sn"in e?e.__sn.id:!function(e,t){if(t.comment&&e.type===W.Comment)return!0;if(e.type===W.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(be(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===be(e.attributes.name)||"icon"===be(e.attributes.rel)||"apple-touch-icon"===be(e.attributes.rel)||"shortcut icon"===be(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&be(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(be(e.attributes.property).match(/^(og|twitter|fb):/)||be(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===be(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===be(e.attributes.name)||"googlebot"===be(e.attributes.name)||"bingbot"===be(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===be(e.attributes.name)||"generator"===be(e.attributes.name)||"framework"===be(e.attributes.name)||"publisher"===be(e.attributes.name)||"progid"===be(e.attributes.name)||be(e.attributes.property).match(/^article:/)||be(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===be(e.attributes.name)||"yandex-verification"===be(e.attributes.name)||"csrf-token"===be(e.attributes.name)||"p:domain_verify"===be(e.attributes.name)||"verify-v1"===be(e.attributes.name)||"verification"===be(e.attributes.name)||"shopify-checkout-api-token"===be(e.attributes.name)))return!0}}return!1}(_,b)&&(I||_.type!==W.Text||_.isStyle||_.textContent.replace(/^\s+|\s+$/gm,"").length)?re++:oe;var M=Object.assign(_,{id:r});if(e.__sn=M,r===oe)return null;o[r]=e,w&&w(e);var O=!l;if(M.type===W.Element&&(O=O&&!M.needBlock,delete M.needBlock),(M.type===W.Document||M.type===W.Element)&&O){b.headWhitespace&&_.type===W.Element&&"head"===_.tagName&&(I=!1);for(var N={doc:n,map:o,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:u,skipChild:l,inlineStylesheet:p,maskInputOptions:f,maskTextFn:m,maskInputFn:v,slimDOMOptions:b,recordCanvas:g,preserveWhiteSpace:I,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,keepIframeSrcFn:E},R=0,D=Array.from(e.childNodes);R<D.length;R++)(F=ye(D[R],N))&&M.childNodes.push(F);if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot){M.isShadowHost=!0;for(var L=0,A=Array.from(e.shadowRoot.childNodes);L<A.length;L++){var F;(F=ye(A[L],N))&&(F.isShadow=!0,M.childNodes.push(F))}}}return e.parentNode&&ee(e.parentNode)&&(M.isShadow=!0),M.type===W.Element&&"iframe"===M.tagName&&function(e,t,r){var n=e.contentWindow;if(n){var o,i=!1;try{o=n.document.readyState}catch(e){return}if("complete"===o)"about:blank"===n.location.href&&"about:blank"!==e.src&&""!==e.src?e.addEventListener("load",t):setTimeout(t,0);else{var s=setTimeout(function(){i||(t(),i=!0)},r);e.addEventListener("load",function(){clearTimeout(s),i=!0,t()})}}}(e,function(){var t=e.contentDocument;if(t&&S){var r=ye(t,{doc:t,map:o,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskTextFn:m,maskInputFn:v,slimDOMOptions:b,recordCanvas:g,preserveWhiteSpace:I,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,keepIframeSrcFn:E});r&&S(e,r)}},k),M}var ge,we,Se,xe,ke;function Te(e,t,r){void 0===r&&(r=document);var n={capture:!0,passive:!0};return r.addEventListener(e,t,n),function(){return r.removeEventListener(e,t,n)}}new RegExp(/([^\\]):hover/,"g"),function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"}(ge||(ge={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(we||(we={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(Se||(Se={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked"}(xe||(xe={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(ke||(ke={}));var Ee="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",Ce={map:{},getId:function(){return console.error(Ee),-1},getNode:function(){return console.error(Ee),null},removeNodeFromMap:function(){console.error(Ee)},has:function(){return console.error(Ee),!1},reset:function(){console.error(Ee)}};function Ie(e,t,r){void 0===r&&(r={});var n=null,o=0;return function(i){var s=Date.now();o||!1!==r.leading||(o=s);var a=t-(s-o),u=this,c=arguments;a<=0||a>t?(n&&(window.clearTimeout(n),n=null),o=s,e.apply(u,c)):n||!1===r.trailing||(n=window.setTimeout(function(){o=!1===r.leading?0:Date.now(),n=null,e.apply(u,c)},a))}}function _e(e,t,r,n,o){void 0===o&&(o=window);var i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set:function(e){var t=this;setTimeout(function(){r.set.call(t,e)},0),i&&i.set&&i.set.call(this,e)}}),function(){return _e(e,t,i||{},!0)}}function Me(e,t,r){try{if(!(t in e))return function(){};var n=e[t],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,function(){e[t]=n}}catch(e){return function(){}}}function Oe(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ne(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Re(e,t){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){var r=!1;return"string"==typeof t?r=e.classList.contains(t):e.classList.forEach(function(e){t.test(e)&&(r=!0)}),r||Re(e.parentNode,t)}return e.nodeType,e.TEXT_NODE,Re(e.parentNode,t)}function De(e){return"__sn"in e&&e.__sn.id===oe}function Le(e){return Boolean(e.changedTouches)}function Ae(e){return"__sn"in e&&e.__sn.type===W.Element&&"iframe"===e.__sn.tagName}function Fe(e){var t;return Boolean(null===(t=e)||void 0===t?void 0:t.shadowRoot)}function Pe(e){return"__ln"in e}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Ce=new Proxy(Ce,{get:function(e,t,r){return"map"===t&&console.error(Ee),Reflect.get(e,t,r)}})),function(){function e(){this.reset()}e.prototype.add=function(e){var t=this.indexes.get(e.parentId),r={id:e.node.id,mutation:e,children:[],texts:[],attributes:[]};t?(r.parent=t,t.children[r.id]=r):this.tree[r.id]=r,this.indexes.set(r.id,r)},e.prototype.remove=function(e,t){var r=this,n=this.indexes.get(e.parentId),o=this.indexes.get(e.id),i=function(e){r.removeIdSet.add(e);var n=t.getNode(e);null===n||void 0===n||n.childNodes.forEach(function(e){"__sn"in e&&i(e.__sn.id)})},s=function(t){r.removeIdSet.add(t.id),Object.values(t.children).forEach(function(e){return s(e)});var n=r.indexes.get(t.id);if(n){var o=n.parent;o&&(delete n.parent,delete o.children[n.id],r.indexes.delete(e.id))}};o?n?(delete o.parent,delete n.children[o.id],this.indexes.delete(e.id),s(o)):(delete this.tree[o.id],this.indexes.delete(o.id),s(o)):(this.removeNodeMutations.push(e),i(e.id))},e.prototype.text=function(e){var t=this.indexes.get(e.id);t?t.texts.push(e):this.textMutations.push(e)},e.prototype.attribute=function(e){var t=this.indexes.get(e.id);t?t.attributes.push(e):this.attributeMutations.push(e)},e.prototype.scroll=function(e){this.scrollMap.set(e.id,e)},e.prototype.input=function(e){this.inputMap.set(e.id,e)},e.prototype.flush=function(){var e,t,r,n,o=this,i=this.tree,s=this.removeNodeMutations,a=this.textMutations,u=this.attributeMutations,c={source:we.Mutation,removes:s,texts:a,attributes:u,adds:[]},l=function(e,t){t&&o.removeIdSet.add(e.id),c.texts=c.texts.concat(t?[]:e.texts).filter(function(e){return!o.removeIdSet.has(e.id)}),c.attributes=c.attributes.concat(t?[]:e.attributes).filter(function(e){return!o.removeIdSet.has(e.id)}),o.removeIdSet.has(e.id)||o.removeIdSet.has(e.mutation.parentId)||t?Object.values(e.children).forEach(function(e){return l(e,!0)}):(c.adds.push(e.mutation),e.children&&Object.values(e.children).forEach(function(e){return l(e,!1)}))};Object.values(i).forEach(function(e){return l(e,!1)});try{for(var d=$(this.scrollMap.keys()),p=d.next();!p.done;p=d.next()){var h=p.value;this.removeIdSet.has(h)&&this.scrollMap.delete(h)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var f=$(this.inputMap.keys()),m=f.next();!m.done;m=f.next())h=m.value,this.removeIdSet.has(h)&&this.inputMap.delete(h)}catch(e){r={error:e}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}var v=new Map(this.scrollMap),b=new Map(this.inputMap);return this.reset(),{mutationData:c,scrollMap:v,inputMap:b}},e.prototype.reset=function(){this.tree=[],this.indexes=new Map,this.removeNodeMutations=[],this.textMutations=[],this.attributeMutations=[],this.removeIdSet=new Set,this.scrollMap=new Map,this.inputMap=new Map},e.prototype.idRemoved=function(e){return this.removeIdSet.has(e)}}();var je=function(){function e(){this.length=0,this.head=null}return e.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,r=0;r<e;r++)t=(null===t||void 0===t?void 0:t.next)||null;return t},e.prototype.addNode=function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Pe(e.previousSibling)){var r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else e.nextSibling&&Pe(e.nextSibling)&&e.nextSibling.__ln.previous?(r=e.nextSibling.__ln.previous,t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)):(this.head&&(this.head.previous=t),t.next=this.head,this.head=t);this.length++},e.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},e}(),qe=function(e,t){return e+"@"+t};function ze(e){return"__sn"in e}function He(e,t){e.delete(t),t.childNodes.forEach(function(t){return He(e,t)})}function Ve(e,t,r){var n=t.parentNode;if(!n)return!1;var o=r.getId(n);return!!e.some(function(e){return e.id===o})||Ve(e,n,r)}function Be(e,t){var r=t.parentNode;return!!r&&(!!e.has(r)||Be(e,r))}var Xe=function(){function e(){var e=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(t){t.forEach(e.processMutation),e.emit()},this.emit=function(){var t,r,n,o;if(!e.frozen&&!e.locked){for(var i=[],s=new je,a=function(t){for(var r=t,n=oe;n===oe;)n=(r=r&&r.nextSibling)&&e.mirror.getId(r);return-1===n&&Re(t.nextSibling,e.blockClass)&&(n=null),n},u=function(t){var r,n=t.getRootNode?null===(r=t.getRootNode())||void 0===r?void 0:r.host:null,o=!(e.doc.contains(t)||n instanceof Node&&e.doc.contains(n));if(t.parentNode&&!o){var u=ee(t.parentNode)?e.mirror.getId(n):e.mirror.getId(t.parentNode),c=a(t);if(-1===u||-1===c)return s.addNode(t);var l=ye(t,{doc:e.doc,map:e.mirror.map,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,onSerialize:function(r){Ae(r)&&e.iframeManager.addIframe(r),Fe(t)&&e.shadowDomManager.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(t,r){e.iframeManager.attachIframe(t,r)}});l&&i.push({parentId:u,nextId:c,node:l})}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());try{for(var c=$(e.movedSet),l=c.next();!l.done;l=c.next()){var d=l.value;Ve(e.removes,d,e.mirror)&&!e.movedSet.has(d.parentNode)||u(d)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}try{for(var p=$(e.addedSet),h=p.next();!h.done;h=p.next())d=h.value,Be(e.droppedSet,d)||Ve(e.removes,d,e.mirror)?Be(e.movedSet,d)?u(d):e.droppedSet.add(d):u(d)}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}for(var f=null;s.length;){var m=null;if(f){var v=e.mirror.getId(f.value.parentNode),b=a(f.value);-1!==v&&-1!==b&&(m=f)}if(!m)for(var y=s.length-1;y>=0;y--){var g=s.get(y);if(g&&(v=e.mirror.getId(g.value.parentNode),b=a(g.value),-1!==v&&-1!==b)){m=g;break}}if(!m){for(;s.head;)s.removeNode(s.head.value);break}f=m.previous,s.removeNode(m.value),u(m.value)}var w={texts:e.texts.map(function(t){return{id:e.mirror.getId(t.node),value:t.value}}).filter(function(t){return e.mirror.has(t.id)}),attributes:e.attributes.map(function(t){return{id:e.mirror.getId(t.node),attributes:t.attributes}}).filter(function(t){return e.mirror.has(t.id)}),removes:e.removes,adds:i};(w.texts.length||w.attributes.length||w.removes.length||w.adds.length)&&(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.emissionCallback(w))}},this.processMutation=function(t){if(!De(t.target))switch(t.type){case"characterData":var r=t.target.textContent;Re(t.target,e.blockClass)||r===t.oldValue||e.texts.push({value:ve(t.target,e.maskTextClass,e.maskTextSelector)&&r?e.maskTextFn?e.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break;case"attributes":var n=t.target;if(r=t.target.getAttribute(t.attributeName),"value"===t.attributeName&&(r=te({maskInputOptions:e.maskInputOptions,tagName:t.target.tagName,type:t.target.getAttribute("type"),value:r,maskInputFn:e.maskInputFn})),Re(t.target,e.blockClass)||r===t.oldValue)return;var o=e.attributes.find(function(e){return e.node===t.target});if(o||(o={node:t.target,attributes:{}},e.attributes.push(o)),"style"===t.attributeName){var i=e.doc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue),void 0!==o.attributes.style&&null!==o.attributes.style||(o.attributes.style={});for(var s=o.attributes.style,a=0;a<n.style.length;a++){var u=n.style[a],c=n.style.getPropertyValue(u),l=n.style.getPropertyPriority(u);c==i.style.getPropertyValue(u)&&l==i.style.getPropertyPriority(u)||(s[u]=""==l?c:[c,l])}for(a=0;a<i.style.length;a++)u=i.style[a],""!==n.style.getPropertyValue(u)&&n.style.getPropertyValue(u)||(s[u]=!1)}else o.attributes[t.attributeName]=me(e.doc,t.target.tagName,t.attributeName,r);break;case"childList":t.addedNodes.forEach(function(r){return e.genAdds(r,t.target)}),t.removedNodes.forEach(function(r){var n=e.mirror.getId(r),o=ee(t.target)?e.mirror.getId(t.target.host):e.mirror.getId(t.target);Re(r,e.blockClass)||Re(t.target,e.blockClass)||De(r)||(e.addedSet.has(r)?(He(e.addedSet,r),e.droppedSet.add(r)):e.addedSet.has(t.target)&&-1===n||function e(t,r){if(ee(t))return!1;var n=r.getId(t);return!r.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,r))}(t.target,e.mirror)||(e.movedSet.has(r)&&e.movedMap[qe(n,o)]?He(e.movedSet,r):e.removes.push({parentId:o,id:n,isShadow:!!ee(t.target)||void 0})),e.mapRemoves.push(r))})}},this.genAdds=function(t,r){if(!(Re(t,e.blockClass)||r&&Re(r,e.blockClass))){if(ze(t)){if(De(t))return;e.movedSet.add(t);var n=null;r&&ze(r)&&(n=r.__sn.id),n&&(e.movedMap[qe(t.__sn.id,n)]=!0)}else e.addedSet.add(t),e.droppedSet.delete(t);t.childNodes.forEach(function(t){return e.genAdds(t)})}}}return e.prototype.init=function(e,t,r,n,o,i,s,a,u,c,l,d,p,h,f){this.blockClass=t,this.blockSelector=r,this.maskTextClass=n,this.maskTextSelector=o,this.inlineStylesheet=i,this.maskInputOptions=s,this.maskTextFn=a,this.maskInputFn=u,this.recordCanvas=c,this.slimDOMOptions=l,this.emissionCallback=e,this.doc=d,this.mirror=p,this.iframeManager=h,this.shadowDomManager=f},e.prototype.freeze=function(){this.frozen=!0},e.prototype.unfreeze=function(){this.frozen=!1,this.emit()},e.prototype.isFrozen=function(){return this.frozen},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1,this.emit()},e}(),Ue=[],We="undefined"!=typeof CSSGroupingRule;function Ge(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0];return e.target}catch(t){return e.target}}function Je(e,t,r,n,o,i,s,a,u,c,l,d,p,h,f,m){var v,b,y,g=new Xe;Ue.push(g),g.init(e,r,n,o,i,s,a,u,c,l,d,t,p,h,f);var w=window.MutationObserver||window.__rrMutationObserver,S=null===(y=null===(b=null===(v=window)||void 0===v?void 0:v.Zone)||void 0===b?void 0:b.__symbol__)||void 0===y?void 0:y.call(b,"MutationObserver");S&&window[S]&&(w=window[S]);var x=new w(g.processMutations.bind(g));return x.observe(m,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),x}function Ke(e,t,r,n,o){return Te("scroll",Ie(function(o){var i=Ge(o);if(i&&!Re(i,n)){var s=r.getId(i);if(i===t){var a=t.scrollingElement||t.documentElement;e({id:s,x:a.scrollLeft,y:a.scrollTop})}else e({id:s,x:i.scrollLeft,y:i.scrollTop})}},o.scroll||100),t)}function Ye(e,t){var r=Y({},e);return t||delete r.userTriggered,r}var $e=["INPUT","TEXTAREA","SELECT"],Ze=new WeakMap;function Qe(e){return function(e,t){if(We&&e.parentRule instanceof CSSGroupingRule){var r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else r=Array.from(e.parentStyleSheet.cssRules).indexOf(e),t.unshift(r);return t}(e,[])}function et(e,t){var r,n;void 0===t&&(t={}),function(e,t){var r=e.mutationCb,n=e.mousemoveCb,o=e.mouseInteractionCb,i=e.scrollCb,s=e.viewportResizeCb,a=e.inputCb,u=e.mediaInteractionCb,c=e.styleSheetRuleCb,l=e.styleDeclarationCb,d=e.canvasMutationCb,p=e.fontCb;e.mutationCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mutation&&t.mutation.apply(t,Q(e)),r.apply(void 0,Q(e))},e.mousemoveCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mousemove&&t.mousemove.apply(t,Q(e)),n.apply(void 0,Q(e))},e.mouseInteractionCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mouseInteraction&&t.mouseInteraction.apply(t,Q(e)),o.apply(void 0,Q(e))},e.scrollCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.scroll&&t.scroll.apply(t,Q(e)),i.apply(void 0,Q(e))},e.viewportResizeCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.viewportResize&&t.viewportResize.apply(t,Q(e)),s.apply(void 0,Q(e))},e.inputCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.input&&t.input.apply(t,Q(e)),a.apply(void 0,Q(e))},e.mediaInteractionCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mediaInteaction&&t.mediaInteaction.apply(t,Q(e)),u.apply(void 0,Q(e))},e.styleSheetRuleCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.styleSheetRule&&t.styleSheetRule.apply(t,Q(e)),c.apply(void 0,Q(e))},e.styleDeclarationCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.styleDeclaration&&t.styleDeclaration.apply(t,Q(e)),l.apply(void 0,Q(e))},e.canvasMutationCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.canvasMutation&&t.canvasMutation.apply(t,Q(e)),d.apply(void 0,Q(e))},e.fontCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.font&&t.font.apply(t,Q(e)),p.apply(void 0,Q(e))}}(e,t);var o,i,s,a,u,c,l,d,p=Je(e.mutationCb,e.doc,e.blockClass,e.blockSelector,e.maskTextClass,e.maskTextSelector,e.inlineStylesheet,e.maskInputOptions,e.maskTextFn,e.maskInputFn,e.recordCanvas,e.slimDOMOptions,e.mirror,e.iframeManager,e.shadowDomManager,e.doc),h=function(e,t,r,n){if(!1===t.mousemove)return function(){};var o,i="number"==typeof t.mousemove?t.mousemove:50,s=[],a=Ie(function(t){var r=Date.now()-o;e(s.map(function(e){return e.timeOffset-=r,e}),t),s=[],o=null},"number"==typeof t.mousemoveCallback?t.mousemoveCallback:500),u=Ie(function(e){var t=Ge(e),r=Le(e)?e.changedTouches[0]:e,i=r.clientX,u=r.clientY;o||(o=Date.now()),s.push({x:i,y:u,id:n.getId(t),timeOffset:Date.now()-o}),a("undefined"!=typeof DragEvent&&e instanceof DragEvent?we.Drag:e instanceof MouseEvent?we.MouseMove:we.TouchMove)},i,{trailing:!1}),c=[Te("mousemove",u,r),Te("touchmove",u,r),Te("drag",u,r)];return function(){c.forEach(function(e){return e()})}}(e.mousemoveCb,e.sampling,e.doc,e.mirror),f=function(e,t,r,n,o){if(!1===o.mouseInteraction)return function(){};var i=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,s=[];return Object.keys(Se).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==i[e]}).forEach(function(o){var i=o.toLowerCase(),a=function(t){return function(o){var i=Ge(o);if(!Re(i,n)){var s=Le(o)?o.changedTouches[0]:o;if(s){var a=r.getId(i),u=s.clientX,c=s.clientY;e({type:Se[t],id:a,x:u,y:c})}}}}(o);s.push(Te(i,a,t))}),function(){s.forEach(function(e){return e()})}}(e.mouseInteractionCb,e.doc,e.mirror,e.blockClass,e.sampling),m=Ke(e.scrollCb,e.doc,e.mirror,e.blockClass,e.sampling),v=(o=e.viewportResizeCb,i=-1,s=-1,Te("resize",Ie(function(){var e=Oe(),t=Ne();i===e&&s===t||(o({width:Number(t),height:Number(e)}),i=e,s=t)},200),window)),b=function(e,t,r,n,o,i,s,a,u){function c(e){var r=Ge(e),a=e.isTrusted;if(r&&r.tagName&&!($e.indexOf(r.tagName)<0)&&!Re(r,n)){var c=r.type;if(!r.classList.contains(o)){var d=r.value,p=!1;"radio"===c||"checkbox"===c?p=r.checked:(i[r.tagName.toLowerCase()]||i[c])&&(d=te({maskInputOptions:i,tagName:r.tagName,type:c,value:d,maskInputFn:s})),l(r,Ye({text:d,isChecked:p,userTriggered:a},u));var h=r.name;"radio"===c&&h&&p&&t.querySelectorAll('input[type="radio"][name="'+h+'"]').forEach(function(e){e!==r&&l(e,Ye({text:e.value,isChecked:!p,userTriggered:!1},u))})}}}function l(t,n){var o=Ze.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){Ze.set(t,n);var i=r.getId(t);e(Y(Y({},n),{id:i}))}}var d=("last"===a.input?["change"]:["input","change"]).map(function(e){return Te(e,c,t)}),p=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),h=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]];return p&&p.set&&d.push.apply(d,Q(h.map(function(e){return _e(e[0],e[1],{set:function(){c({target:this})}})}))),function(){d.forEach(function(e){return e()})}}(e.inputCb,e.doc,e.mirror,e.blockClass,e.ignoreClass,e.maskInputOptions,e.maskInputFn,e.sampling,e.userTriggeredOnInput),y=(a=e.mediaInteractionCb,u=e.blockClass,c=e.mirror,d=[Te("play",(l=function(e){return function(t){var r=Ge(t);r&&!Re(r,u)&&a({type:e,id:c.getId(r),currentTime:r.currentTime})}})(xe.Play)),Te("pause",l(xe.Pause)),Te("seeked",l(xe.Seeked))],function(){d.forEach(function(e){return e()})}),g=function(e,t){var r=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(n,o){var i=t.getId(this.ownerNode);return-1!==i&&e({id:i,adds:[{rule:n,index:o}]}),r.apply(this,arguments)};var n=CSSStyleSheet.prototype.deleteRule;if(CSSStyleSheet.prototype.deleteRule=function(r){var o=t.getId(this.ownerNode);return-1!==o&&e({id:o,removes:[{index:r}]}),n.apply(this,arguments)},!We)return function(){CSSStyleSheet.prototype.insertRule=r,CSSStyleSheet.prototype.deleteRule=n};var o=CSSGroupingRule.prototype.insertRule;CSSGroupingRule.prototype.insertRule=function(r,n){var i=t.getId(this.parentStyleSheet.ownerNode);return-1!==i&&e({id:i,adds:[{rule:r,index:Q(Qe(this),[n||0])}]}),o.apply(this,arguments)};var i=CSSGroupingRule.prototype.deleteRule;return CSSGroupingRule.prototype.deleteRule=function(r){var n=t.getId(this.parentStyleSheet.ownerNode);return-1!==n&&e({id:n,removes:[{index:Q(Qe(this),[r])}]}),i.apply(this,arguments)},function(){CSSStyleSheet.prototype.insertRule=r,CSSStyleSheet.prototype.deleteRule=n,CSSGroupingRule.prototype.insertRule=o,CSSGroupingRule.prototype.deleteRule=i}}(e.styleSheetRuleCb,e.mirror),w=function(e,t){var r=CSSStyleDeclaration.prototype.setProperty;CSSStyleDeclaration.prototype.setProperty=function(n,o,i){var s,a,u=t.getId(null===(a=null===(s=this.parentRule)||void 0===s?void 0:s.parentStyleSheet)||void 0===a?void 0:a.ownerNode);return-1!==u&&e({id:u,set:{property:n,value:o,priority:i},index:Qe(this.parentRule)}),r.apply(this,arguments)};var n=CSSStyleDeclaration.prototype.removeProperty;return CSSStyleDeclaration.prototype.removeProperty=function(r){var o,i,s=t.getId(null===(i=null===(o=this.parentRule)||void 0===o?void 0:o.parentStyleSheet)||void 0===i?void 0:i.ownerNode);return-1!==s&&e({id:s,remove:{property:r},index:Qe(this.parentRule)}),n.apply(this,arguments)},function(){CSSStyleDeclaration.prototype.setProperty=r,CSSStyleDeclaration.prototype.removeProperty=n}}(e.styleDeclarationCb,e.mirror),S=e.recordCanvas?function(e,t,r){var n,o,i=Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype),s=[],a=function(n){try{if("function"!=typeof CanvasRenderingContext2D.prototype[n])return"continue";var o=Me(CanvasRenderingContext2D.prototype,n,function(o){return function(){for(var i=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return Re(this.canvas,t)||setTimeout(function(){var t=Q(s);if("drawImage"===n&&t[0]&&t[0]instanceof HTMLCanvasElement){var o=t[0],a=o.getContext("2d"),u=null===a||void 0===a?void 0:a.getImageData(0,0,o.width,o.height),c=null===u||void 0===u?void 0:u.data;t[0]=JSON.stringify(c)}e({id:r.getId(i.canvas),property:n,args:t})},0),o.apply(this,s)}});s.push(o)}catch(t){var i=_e(CanvasRenderingContext2D.prototype,n,{set:function(t){e({id:r.getId(this.canvas),property:n,args:[t],setter:!0})}});s.push(i)}};try{for(var u=$(i),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return function(){s.forEach(function(e){return e()})}}(e.canvasMutationCb,e.blockClass,e.mirror):function(){},x=e.collectFonts?function(e){var t=[],r=new WeakMap,n=FontFace;window.FontFace=function(e,t,o){var i=new n(e,t,o);return r.set(i,{family:e,buffer:"string"!=typeof t,descriptors:o,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i};var o=Me(document.fonts,"add",function(t){return function(n){return setTimeout(function(){var t=r.get(n);t&&(e(t),r.delete(n))},0),t.apply(this,[n])}});return t.push(function(){window.FonFace=n}),t.push(o),function(){t.forEach(function(e){return e()})}}(e.fontCb):function(){},k=[];try{for(var T=$(e.plugins),E=T.next();!E.done;E=T.next()){var C=E.value;k.push(C.observer(C.callback,C.options))}}catch(e){r={error:e}}finally{try{E&&!E.done&&(n=T.return)&&n.call(T)}finally{if(r)throw r.error}}return function(){p.disconnect(),h(),f(),m(),v(),b(),y(),g(),w(),S(),x(),k.forEach(function(e){return e()})}}var tt,rt,nt=function(){function e(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}return e.prototype.addIframe=function(e){this.iframes.set(e,!0)},e.prototype.addLoadListener=function(e){this.loadListener=e},e.prototype.attachIframe=function(e,t){var r;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(r=this.loadListener)||void 0===r||r.call(this,e)},e}(),ot=function(){function e(e){this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror}return e.prototype.addShadowRoot=function(e,t){Je(this.mutationCb,t,this.bypassOptions.blockClass,this.bypassOptions.blockSelector,this.bypassOptions.maskTextClass,this.bypassOptions.maskTextSelector,this.bypassOptions.inlineStylesheet,this.bypassOptions.maskInputOptions,this.bypassOptions.maskTextFn,this.bypassOptions.maskInputFn,this.bypassOptions.recordCanvas,this.bypassOptions.slimDOMOptions,this.mirror,this.bypassOptions.iframeManager,this,e),Ke(this.scrollCb,e,this.mirror,this.bypassOptions.blockClass,this.bypassOptions.sampling)},e}();function it(e){return Y(Y({},e),{timestamp:Date.now()})}var st={map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return this.map[e]||null},removeNodeFromMap:function(e){var t=this,r=e.__sn&&e.__sn.id;delete this.map[r],e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})},has:function(e){return this.map.hasOwnProperty(e)},reset:function(){this.map={}}};function at(e){void 0===e&&(e={});var t=e.emit,r=e.checkoutEveryNms,n=e.checkoutEveryNth,o=e.blockClass,i=void 0===o?"rr-block":o,s=e.blockSelector,a=void 0===s?null:s,u=e.ignoreClass,c=void 0===u?"rr-ignore":u,l=e.maskTextClass,d=void 0===l?"rr-mask":l,p=e.maskTextSelector,h=void 0===p?null:p,f=e.inlineStylesheet,m=void 0===f||f,v=e.maskAllInputs,b=e.maskInputOptions,y=e.slimDOMOptions,g=e.maskInputFn,w=e.maskTextFn,S=e.hooks,x=e.packFn,k=e.sampling,T=void 0===k?{}:k,E=e.mousemoveWait,C=e.recordCanvas,I=void 0!==C&&C,_=e.userTriggeredOnInput,M=void 0!==_&&_,O=e.collectFonts,N=void 0!==O&&O,R=e.plugins,D=e.keepIframeSrcFn,L=void 0===D?function(){return!1}:D;if(!t)throw new Error("emit function is required");void 0!==E&&void 0===T.mousemove&&(T.mousemove=E);var A,F,P=!0===v?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==b?b:{password:!0},j=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};void 0===A&&(A=window),"NodeList"in A&&!A.NodeList.prototype.forEach&&(A.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in A&&!A.DOMTokenList.prototype.forEach&&(A.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1});var q=0;tt=function(e,o){var i;if((null===(i=Ue[0])||void 0===i?void 0:i.isFrozen())&&e.type!==ge.FullSnapshot&&(e.type!==ge.IncrementalSnapshot||e.data.source!==we.Mutation)&&Ue.forEach(function(e){return e.unfreeze()}),t(x?x(e):e,o),e.type===ge.FullSnapshot)F=e,q=0;else if(e.type===ge.IncrementalSnapshot){if(e.data.source===we.Mutation&&e.data.isAttachIframe)return;q++;var s=n&&q>=n,a=r&&e.timestamp-F.timestamp>r;(s||a)&&rt(!0)}};var z=function(e){tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.Mutation},e)}))},H=function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.Scroll},e)}))},V=new nt({mutationCb:z}),B=new ot({mutationCb:z,scrollCb:H,bypassOptions:{blockClass:i,blockSelector:a,maskTextClass:d,maskTextSelector:h,inlineStylesheet:m,maskInputOptions:P,maskTextFn:w,maskInputFn:g,recordCanvas:I,sampling:T,slimDOMOptions:j,iframeManager:V},mirror:st});rt=function(e){var t,r,n,o;void 0===e&&(e=!1),tt(it({type:ge.Meta,data:{href:window.location.href,width:Ne(),height:Oe()}}),e),Ue.forEach(function(e){return e.lock()});var s=Z(function(e,t){var r=t||{},n=r.blockClass,o=r.blockSelector,i=r.maskTextClass,s=r.maskTextSelector,a=r.inlineStylesheet,u=r.recordCanvas,c=r.maskAllInputs,l=void 0!==c&&c,d=r.slimDOM,p=void 0!==d&&d,h=r.keepIframeSrcFn,f={};return[ye(e,{doc:e,map:f,blockClass:void 0===n?"rr-block":n,blockSelector:void 0===o?null:o,maskTextClass:void 0===i?"rr-mask":i,maskTextSelector:void 0===s?null:s,skipChild:!1,inlineStylesheet:void 0===a||a,maskInputOptions:!0===l?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===l?{password:!0}:l,maskTextFn:r.maskTextFn,maskInputFn:r.maskInputFn,slimDOMOptions:!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===p?{}:p,recordCanvas:void 0!==u&&u,preserveWhiteSpace:r.preserveWhiteSpace,onSerialize:r.onSerialize,onIframeLoad:r.onIframeLoad,iframeLoadTimeout:r.iframeLoadTimeout,keepIframeSrcFn:void 0===h?function(){return!1}:h}),f]}(document,{blockClass:i,blockSelector:a,maskTextClass:d,maskTextSelector:h,inlineStylesheet:m,maskAllInputs:P,maskTextFn:w,slimDOM:j,recordCanvas:I,onSerialize:function(e){Ae(e)&&V.addIframe(e),Fe(e)&&B.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){V.attachIframe(e,t)},keepIframeSrcFn:L}),2),u=s[0],c=s[1];if(!u)return console.warn("Failed to snapshot the document");st.map=c,tt(it({type:ge.FullSnapshot,data:{node:u,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(r=null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(o=null===(n=null===document||void 0===document?void 0:document.body)||void 0===n?void 0:n.parentElement)||void 0===o?void 0:o.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),Ue.forEach(function(e){return e.unlock()})};try{var X=[];X.push(Te("DOMContentLoaded",function(){tt(it({type:ge.DomContentLoaded,data:{}}))}));var U=function(e){return et({mutationCb:z,mousemoveCb:function(e,t){return tt(it({type:ge.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.MouseInteraction},e)}))},scrollCb:H,viewportResizeCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.ViewportResize},e)}))},inputCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.Input},e)}))},mediaInteractionCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.StyleSheetRule},e)}))},styleDeclarationCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.StyleDeclaration},e)}))},canvasMutationCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.CanvasMutation},e)}))},fontCb:function(e){return tt(it({type:ge.IncrementalSnapshot,data:Y({source:we.Font},e)}))},blockClass:i,ignoreClass:c,maskTextClass:d,maskTextSelector:h,maskInputOptions:P,inlineStylesheet:m,sampling:T,recordCanvas:I,userTriggeredOnInput:M,collectFonts:N,doc:e,maskInputFn:g,maskTextFn:w,blockSelector:a,slimDOMOptions:j,mirror:st,iframeManager:V,shadowDomManager:B,plugins:(null===R||void 0===R?void 0:R.map(function(e){return{observer:e.observer,options:e.options,callback:function(t){return tt(it({type:ge.Plugin,data:{plugin:e.name,payload:t}}))}}}))||[]},S)};V.addLoadListener(function(e){X.push(U(e.contentDocument))});var W=function(){rt(),X.push(U(document))};return"interactive"===document.readyState||"complete"===document.readyState?W():X.push(Te("load",function(){tt(it({type:ge.Load,data:{}})),W()},window)),function(){X.forEach(function(e){return e()})}}catch(e){console.warn(e)}}at.addCustomEvent=function(e,t){if(!tt)throw new Error("please add custom event after start recording");tt(it({type:ge.Custom,data:{tag:e,payload:t}}))},at.freezePage=function(){Ue.forEach(function(e){return e.freeze()})},at.takeFullSnapshot=function(e){if(!rt)throw new Error("please take full snapshot after start recording");rt(e)},at.mirror=st;var ut=at,ct=Uint8Array,lt=Uint16Array,dt=Uint32Array,pt=new ct([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ht=new ct([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ft=new ct([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mt=function(e,t){for(var r=new lt(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var o=new dt(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return[r,o]},vt=mt(pt,2),bt=vt[0],yt=vt[1];bt[28]=258,yt[258]=28;for(var gt=mt(ht,0),wt=(gt[0],gt[1]),St=new lt(32768),xt=0;xt<32768;++xt){var kt=(43690&xt)>>>1|(21845&xt)<<1;kt=(61680&(kt=(52428&kt)>>>2|(13107&kt)<<2))>>>4|(3855&kt)<<4,St[xt]=((65280&kt)>>>8|(255&kt)<<8)>>>1}var Tt=function(e,t,r){for(var n=e.length,o=0,i=new lt(t);o<n;++o)++i[e[o]-1];var s,a=new lt(t);for(o=0;o<t;++o)a[o]=a[o-1]+i[o-1]<<1;if(r){s=new lt(1<<t);var u=15-t;for(o=0;o<n;++o)if(e[o])for(var c=o<<4|e[o],l=t-e[o],d=a[e[o]-1]++<<l,p=d|(1<<l)-1;d<=p;++d)s[St[d]>>>u]=c}else for(s=new lt(n),o=0;o<n;++o)s[o]=St[a[e[o]-1]++]>>>15-e[o];return s},Et=new ct(288);for(xt=0;xt<144;++xt)Et[xt]=8;for(xt=144;xt<256;++xt)Et[xt]=9;for(xt=256;xt<280;++xt)Et[xt]=7;for(xt=280;xt<288;++xt)Et[xt]=8;var Ct=new ct(32);for(xt=0;xt<32;++xt)Ct[xt]=5;var It=Tt(Et,9,0),_t=Tt(Ct,5,0),Mt=function(e){return(e/8>>0)+(7&e&&1)},Ot=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof lt?lt:e instanceof dt?dt:ct)(r-t);return n.set(e.subarray(t,r)),n},Nt=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Rt=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Dt=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,i=r.slice();if(!o)return[new ct(0),0];if(1==o){var s=new ct(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var a=r[0],u=r[1],c=0,l=1,d=2;for(r[0]={s:-1,f:a.f+u.f,l:a,r:u};l!=o-1;)a=r[r[c].f<r[d].f?c++:d++],u=r[c!=l&&r[c].f<r[d].f?c++:d++],r[l++]={s:-1,f:a.f+u.f,l:a,r:u};var p=i[0].s;for(n=1;n<o;++n)i[n].s>p&&(p=i[n].s);var h=new lt(p+1),f=Lt(r[l-1],h,0);if(f>t){n=0;var m=0,v=f-t,b=1<<v;for(i.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});n<o;++n){var y=i[n].s;if(!(h[y]>t))break;m+=b-(1<<f-h[y]),h[y]=t}for(m>>>=v;m>0;){var g=i[n].s;h[g]<t?m-=1<<t-h[g]++-1:++n}for(;n>=0&&m;--n){var w=i[n].s;h[w]==t&&(--h[w],++m)}f=t}return[new ct(h),f]},Lt=function(e,t,r){return-1==e.s?Math.max(Lt(e.l,t,r+1),Lt(e.r,t,r+1)):t[e.s]=r},At=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new lt(++t),n=0,o=e[0],i=1,s=function(e){r[n++]=e},a=1;a<=t;++a)if(e[a]==o&&a!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(o),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(o);i=1,o=e[a]}return[r.subarray(0,n),t]},Ft=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Pt=function(e,t,r){var n=r.length,o=Mt(t+2);e[o]=255&n,e[o+1]=n>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<n;++i)e[o+i+4]=r[i];return 8*(o+4+n)},jt=function(e,t,r,n,o,i,s,a,u,c,l){Nt(t,l++,r),++o[256];for(var d=Dt(o,15),p=d[0],h=d[1],f=Dt(i,15),m=f[0],v=f[1],b=At(p),y=b[0],g=b[1],w=At(m),S=w[0],x=w[1],k=new lt(19),T=0;T<y.length;++T)k[31&y[T]]++;for(T=0;T<S.length;++T)k[31&S[T]]++;for(var E=Dt(k,7),C=E[0],I=E[1],_=19;_>4&&!C[ft[_-1]];--_);var M,O,N,R,D=c+5<<3,L=Ft(o,Et)+Ft(i,Ct)+s,A=Ft(o,p)+Ft(i,m)+s+14+3*_+Ft(k,C)+(2*k[16]+3*k[17]+7*k[18]);if(D<=L&&D<=A)return Pt(t,l,e.subarray(u,u+c));if(Nt(t,l,1+(A<L)),l+=2,A<L){M=Tt(p,h,0),O=p,N=Tt(m,v,0),R=m;var F=Tt(C,I,0);for(Nt(t,l,g-257),Nt(t,l+5,x-1),Nt(t,l+10,_-4),l+=14,T=0;T<_;++T)Nt(t,l+3*T,C[ft[T]]);l+=3*_;for(var P=[y,S],j=0;j<2;++j){var q=P[j];for(T=0;T<q.length;++T){var z=31&q[T];Nt(t,l,F[z]),l+=C[z],z>15&&(Nt(t,l,q[T]>>>5&127),l+=q[T]>>>12)}}}else M=It,O=Et,N=_t,R=Ct;for(T=0;T<a;++T)if(n[T]>255){z=n[T]>>>18&31,Rt(t,l,M[z+257]),l+=O[z+257],z>7&&(Nt(t,l,n[T]>>>23&31),l+=pt[z]);var H=31&n[T];Rt(t,l,N[H]),l+=R[H],H>3&&(Rt(t,l,n[T]>>>5&8191),l+=ht[H])}else Rt(t,l,M[n[T]]),l+=O[n[T]];return Rt(t,l,M[256]),l+O[256]},qt=new dt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zt=new ct(0),Ht=function(e){var t=Y(Y({},e),{v:"v1"});return function(e,t){var r="";for(var n=0;n<e.length;){var o=e[n++];r+=String.fromCharCode(o)}return r}(function(e,t){void 0===t&&(t={});var r=function(){var e=1,t=0;return{p:function(r){for(var n=e,o=t,i=r.length,s=0;s!=i;){for(var a=Math.min(s+5552,i);s<a;++s)o+=n+=r[s];n%=65521,o%=65521}e=n,t=o},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}}();r.p(e);var n=function(e,t,r,n,o){return function(e,t,r,n,o,i){var s=e.length,a=new ct(n+s+5*(1+Math.floor(s/7e3))+o),u=a.subarray(n,a.length-o),c=0;if(!t||s<8)for(var l=0;l<=s;l+=65535){var d=l+65535;d<s?c=Pt(u,c,e.subarray(l,d)):(u[l]=i,c=Pt(u,c,e.subarray(l,s)))}else{for(var p=qt[t-1],h=p>>>13,f=8191&p,m=(1<<r)-1,v=new lt(32768),b=new lt(m+1),y=Math.ceil(r/3),g=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<g)&m},S=new dt(25e3),x=new lt(288),k=new lt(32),T=0,E=0,C=(l=0,0),I=0,_=0;l<s;++l){var M=w(l),O=32767&l,N=b[M];if(v[O]=N,b[M]=O,I<=l){var R=s-l;if((T>7e3||C>24576)&&R>423){c=jt(e,u,0,S,x,k,E,C,_,l-_,c),C=T=E=0,_=l;for(var D=0;D<286;++D)x[D]=0;for(D=0;D<30;++D)k[D]=0}var L=2,A=0,F=f,P=O-N&32767;if(R>2&&M==w(l-P))for(var j=Math.min(h,R)-1,q=Math.min(32767,l),z=Math.min(258,R);P<=q&&--F&&O!=N;){if(e[l+L]==e[l+L-P]){for(var H=0;H<z&&e[l+H]==e[l+H-P];++H);if(H>L){if(L=H,A=P,H>j)break;var V=Math.min(P,H-2),B=0;for(D=0;D<V;++D){var X=l-P+D+32768&32767,U=X-v[X]+32768&32767;U>B&&(B=U,N=X)}}}P+=(O=N)-(N=v[O])+32768&32767}if(A){S[C++]=268435456|yt[L]<<18|wt[A];var W=31&yt[L],G=31&wt[A];E+=pt[W]+ht[G],++x[257+W],++k[G],I=l+L,++T}else S[C++]=e[l],++x[e[l]]}}c=jt(e,u,i,S,x,k,E,C,_,l-_,c),i||(c=Pt(u,c,zt))}return Ot(a,0,n+Mt(c)+o)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!o)}(e,t,2,4);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}(n,t),function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(n,n.length-4,r.d()),n}(function(e,t){var r=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var n=new ct(e.length+(e.length>>>1)),o=0,i=function(e){n[o++]=e},s=0;s<r;++s){if(o+5>n.length){var a=new ct(o+8+(r-s<<1));a.set(n),n=a}var u=e.charCodeAt(s);u<128?i(u):u<2048?(i(192|u>>>6),i(128|63&u)):u>55295&&u<57344?(i(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++s))>>>18),i(128|u>>>12&63),i(128|u>>>6&63),i(128|63&u)):(i(224|u>>>12),i(128|u>>>6&63),i(128|63&u))}return Ot(n,0,o)}(JSON.stringify(t))))},Vt=function(){function e(){this.events=[]}return e.prototype.startRecording=function(){var e=this;this.listenerHandler=ut({sampling:{mousemove:!1,mouseInteraction:!0,scroll:500,input:"last"},slimDOMOptions:{script:!1,comment:!1,headFavicon:!1,headWhitespace:!1,headMetaDescKeywords:!1,headMetaSocial:!1,headMetaRobots:!1,headMetaHttpEquiv:!1,headMetaAuthorship:!1,headMetaVerification:!1},maskAllInputs:!0,packFn:Ht,emit:function(t){e.events.push(t)}})},e.prototype.stopRecording=function(){this.listenerHandler()},e.prototype.takeSnapShot=function(){ut.takeFullSnapshot()},e.prototype.getEvents=function(){var e=this.events;return this.events=[],e},e}(),Bt=function(e,t){this.data=e,this.partitionKey=t},Xt=function(e){this.records=e},Ut=function(e,t,r,n,o,i,s){this.recordType=e,this.event=t,this.domainId=r,this.tabId=n,this.sessionId=o,this.recorderEvents=i,this.language=s},Wt=function(e,t,r,n,o,i,s){this.recordType=e,this.browser=t,this.device=r,this.engine=n,this.os=o,this.screen=i,this.sessionId=s},Gt=function(e,t){this.name=e,this.version=t},Jt=function(e,t){this.name=e,this.version=t},Kt=function(e,t,r){this.vendor=e,this.type=t,this.model=r},Yt=function(e,t,r){this.name=e,this.version=t,this.major=r},$t=function(e,t,r,n){this.href=e,this.origin=t,this.path=r,this.title=n},Zt=function(e,t,r,n,o,i,s,a,u){this.id=e,this.type=t,this.selectors=r,this.pageX=n,this.pageY=o,this.target=i,this.time=s,this.page=a,this.error=u},Qt=function(e,t){this.type=e,this.value=t},er=function(e,t){this.tagName=e,this.value=t},tr=function(e,t,r,n,o){this.pixelRatio=e,this.width=t,this.height=r,this.availableWidth=n,this.availableHeight=o},rr=function(e,t,r,n){this.message=e,this.stack=t,this.lineNo=r,this.colNo=n},nr=r(0),or=function(){function e(){}return e.getBrowser=function(){var e=new nr.UAParser(navigator.userAgent).getBrowser();return new Yt(e.name,e.version,e.major)},e.getDevice=function(){var e=new nr.UAParser(navigator.userAgent).getDevice();return new Kt(e.vendor,e.type,e.model)},e.getEngine=function(){var e=new nr.UAParser(navigator.userAgent).getEngine();return new Jt(e.name,e.version)},e.getOs=function(){var e=new nr.UAParser(navigator.userAgent).getOS();return new Gt(e.name,e.version)},e.getScreen=function(){return new tr(window.devicePixelRatio,window.screen.width,window.screen.height,window.screen.availWidth,window.screen.availHeight)},e}(),ir=["load"],sr=["change","mousedown","contextmenu","touchstart"],ar=new(function(){function e(){this.recorder=new Vt,this.batchEventRequests=[],this.batchSize=6,this.batchIntervalTime=5e3,this.batchSendingFrequency=3e4,this.batchLatestSendingTime=(new Date).getTime(),this.domainValidationFrequency=43200,this.clickCount=0}return e.postData=function(e,t,r){!function(e,t,r){"beacon"===r&&navigator&&navigator.sendBeacon?(navigator.sendBeacon(""+e,JSON.stringify(t)),sessionStorage.removeItem("latestRecEvent")):J.post(e,t,{"Content-Type":"application/json"}).subscribe(function(e){sessionStorage.removeItem("latestRecEvent")})}(e,t,r)},e.getDomain=function(){var e=localStorage.getItem("tst-domain");return e?JSON.parse(e):void 0},e.getDomainId=function(){var e=localStorage.getItem("tst-domain"),t=e?JSON.parse(e):void 0;return t?t.id:void 0},e.getSessionId=function(){return localStorage.getItem("tst-sessionId")},e.getDomainLatestValidationTime=function(){return localStorage.getItem("tst-dm-vld-time")},e.setDomainLatestValidationTime=function(e){localStorage.setItem("tst-dm-vld-time",String(e))},e.prototype.init=function(e){var t=e.code;t?(this.code=t,this.initDomain(),this.recorder.startRecording()):console.log("Testinium code does not exist in config parameters.")},e.prototype.initDomain=function(){var t=e.getDomain();if(t){this.domainId=t.id;var r=e.getDomainLatestValidationTime(),n=r?+r:void 0;if(!n){var o=(new Date).getTime();e.setDomainLatestValidationTime(o),n=o}n&&(new Date).getTime()>+n+this.domainValidationFrequency?this.initDomainAndSessionParameters():this.isDomainEnabled(t)&&t.enabled&&this.initParameters()}else this.initDomainAndSessionParameters()},e.prototype.singleClick=function(e){this.initBatchRequest("mousedown",e)},e.prototype.doubleClick=function(e){this.initBatchRequest("dblclick",e)},e.prototype.clickFunction=function(e){var t=this;this.clickCount++,1===this.clickCount?this.singleClickTimer=setTimeout(function(){t.clickCount=0,t.singleClick(e)},300):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.doubleClick(e))},e.prototype.isDomainEnabled=function(e){return e.id&&e.enabled},e.prototype.initParameters=function(){var t=this,r=e.getSessionId();r?(this.sessionId=r,this.sendLatestRecord(),this.generateTabId(),this.startRecording()):(this.generateSessionId(),this.startSession().subscribe(function(e){localStorage.setItem("tst-sessionId",t.sessionId),t.generateTabId(),t.startRecording()},function(e){console.log(e)}))},e.prototype.startSession=function(){var e=new Wt("session",or.getBrowser(),or.getDevice(),or.getEngine(),or.getOs(),or.getScreen(),this.sessionId),t=this.generateAwsKinesisSessionRequestObject(e);return J.post("https://2s0wkwxe54.execute-api.eu-west-1.amazonaws.com/analytics/stream/api/v1/record",t,{"Content-Type":"application/json"})},e.prototype.startRecording=function(){var e=this;ir.forEach(function(t){window.addEventListener(t,function(r){"mousedown"===t?e.clickFunction(r):e.initBatchRequest(t,r)})}),document.addEventListener("readystatechange",function(t){"complete"===document.readyState&&sr.forEach(function(t){document.body.addEventListener(t,function(r){"mousedown"===t?e.clickFunction(r):e.initBatchRequest(t,r)})})}),window.addEventListener("beforeunload",function(t){e.batchEventRequests&&e.batchEventRequests.length>0&&e.sendBatchRequest()}),this.initBatchRequestInterval()},e.prototype.initDomainAndSessionParameters=function(){var t=this;this.authenticate().subscribe(function(e){if(e.response&&e.response.id){var r=e.response;localStorage.setItem("tst-domain",JSON.stringify(r)),t.isDomainEnabled(r)&&r.enabled&&(t.domainId=r.id,t.initParameters())}},function(e){console.log(e)}),e.setDomainLatestValidationTime((new Date).getTime())},e.prototype.initBatchRequest=function(e,t){var r=this.generateJsonObject(e,t);r&&r instanceof Ut&&(this.batchEventRequests.push(r),this.setLatesetRecord(this.batchEventRequests),this.batchEventRequests&&this.batchEventRequests.length>=this.batchSize&&this.sendBatchRequest())},e.prototype.initBatchRequestInterval=function(){var e=this;setInterval(function(){e.batchEventRequests&&e.batchEventRequests.length>0&&(new Date).getTime()>e.batchLatestSendingTime+e.batchSendingFrequency&&e.sendBatchRequest()},this.batchIntervalTime)},e.prototype.sendBatchRequest=function(){var t=Object.assign([],this.batchEventRequests);this.batchEventRequests=[];var r=this.generateAwsKinesisEventRequestObject(t);this.batchLatestSendingTime=(new Date).getTime(),e.postData("https://2s0wkwxe54.execute-api.eu-west-1.amazonaws.com/analytics/stream/api/v1/records",r,"beacon")},e.prototype.setLatesetRecord=function(e){navigator&&navigator.sendBeacon||sessionStorage.setItem("tst-latestRecEvent",JSON.stringify(e))},e.prototype.sendLatestRecord=function(){if(!navigator||!navigator.sendBeacon){var t=sessionStorage.getItem("tst-latestRecEvent"),r=t?JSON.parse(t):void 0;if(r){var n=this.generateAwsKinesisEventRequestObject(r);e.postData("https://2s0wkwxe54.execute-api.eu-west-1.amazonaws.com/analytics/stream/api/v1/records",n,"xhr")}}},e.prototype.generateJsonObject=function(e,t){var r,n,o=Date.now();if(t instanceof ErrorEvent){if(t.error instanceof B&&String(t.error.request.url).startsWith("https://2s0wkwxe54.execute-api.eu-west-1.amazonaws.com/analytics/stream/api/v1/record"))return!1;r=new rr(t.error.message,t.error.stack,t.lineno,t.colno)}n=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var i,s=new $t(window.location.href,n,window.location.pathname,document.title);i=t.target.dataset&&t.target.dataset.hasOwnProperty("tstNotrack")||"INPUT"===t.target.tagName?"****":t.target.value;var a=new er(t.target.tagName,i),u="load"===e?"document":this.getElementXPath(t.target,!1),c="load"===e?"document":this.createXPathFromElement(t.target),l=t.target.innerText?t.target.innerText.substring(0,100):void 0,d=[];if(t.target.id&&d.push(new Qt("ID",t.target.id)),t.target.name&&d.push(new Qt("NAME",t.target.name)),t.target.classList&&t.target.classList.length){var p=t.target.classList.toString();d.push(new Qt("CLASS_NAME",p))}if(0===t.target.children.length&&(t.target.text?d.push(new Qt("TEXT",i)):t.target.innerText&&d.push(new Qt("TEXT",l))),u&&d.push(new Qt("XPATH",u)),c&&d.push(new Qt("XPATH-RELATIVE",c)),t.target.tagName&&t.target.classList&&t.target.classList.length){var h=t.target.tagName?t.target.tagName.toLowerCase():"";h=t.target.id?h+"#"+t.target.id:h,t.target.classList.forEach(function(e){e.length&&(h=h+"."+e)}),d.push(new Qt("CSS_SELECTOR",h))}var f=or.getDevice();"mobile"!==f.type&&(e="mousedown"===e?"click":e),"mobile"===f.type&&(e="mousedown"===e?"touchmove":e),o="change"===e?o-80:o;var m=new Zt(K(),e,d,t.pageX,t.pageY,a,o,s,r),v=window.navigator,b=v.language?v.language:v.userLanguage;return new Ut("event",m,this.domainId,this.tabId,this.sessionId,this.recorder.getEvents(),b)},e.prototype.generateTabId=function(){var e=sessionStorage.getItem("tst-tabId");this.tabId=e||K(),sessionStorage.setItem("tst-tabId",this.tabId)},e.prototype.generateSessionId=function(){this.sessionId=K()},e.prototype.generatePartitionKey=function(){return window.location.origin+"#"+e.getDomainId()+"#"+K()},e.prototype.generateAwsKinesisSessionRequestObject=function(e){var t=JSON.stringify(e),r=this.generatePartitionKey();return new Bt(t,r)},e.prototype.generateAwsKinesisEventRequestObject=function(e){var t=this,r=[];return e.forEach(function(e){var n={};n.data=JSON.stringify(e),n.partitionKey=t.generatePartitionKey(),r.push(n)}),new Xt(r)},e.prototype.getElementXPath=function(e,t){if(""!==e.id&&!t)return"//*[@id='"+e.id+"']";if(e===document.documentElement)return e.tagName.toLowerCase();try{for(var r=0,n=e.parentNode.childNodes,o=0;o<n.length;o++){var i=n[o];if(i===e)return this.getElementXPath(e.parentNode,!1)+"/"+e.tagName.toLowerCase()+"["+(r+1)+"]";1===i.nodeType&&i.tagName===e.tagName&&r++}}catch(e){return"~"}},e.prototype.createXPathFromElement=function(e){for(var t=new Map,r=[];e&&e.parentNode;){if(e.hasAttribute("id")&&!t.has("id")){var n=document.querySelectorAll("[id]"),o=Array.from(n).filter(function(t){return t.id===e.id});console.log(e.localName),console.log(e);var i=0,s=r.length>0?r.reverse().join("/"):"";if(1===o.length)t.set("id","id('"+e.getAttribute("id")+"')"+s);else for(var a=e.parentNode.childNodes,u=0;u<a.length;u++){var c=a[u];c===e&&(t.set("id","//"+e.localName.toLowerCase()+"[@id='"+e.getAttribute("id")+"']/"+s),t.set("id-2","//"+e.localName.toLowerCase()+"[@id='"+e.getAttribute("id")+"']/descendant::"+s+"["+i+"]")),1===c.nodeType&&c.tagName===e.tagName&&i++}}e.hasAttribute("class")&&!t.has("class")&&t.set("class","//"+e.localName.toLowerCase()+"[@class='"+e.getAttribute("class")+"']"),r.push(e.localName.toLowerCase()),e=e.parentNode}return console.log(t),"relativeXPathsMap"},e.prototype.authenticate=function(){var e="https://dev-analytics.testinium.io/api/auth?code="+this.code;return J.post(e,{"Content-Type":"application/json"})},e}());r.d(t,"testinium",function(){return ar})}])});
